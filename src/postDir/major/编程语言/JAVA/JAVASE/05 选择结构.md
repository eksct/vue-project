Java 中的选择结构用于根据条件执行不同的代码块。常见的选择结构包括 `if`、`if-else`、`if-else if-else` 和 `switch` 语句。选择结构是控制程序流程的重要工具，合理使用可以提高代码的可读性和效率。
## 1. **选择结构的类型**

### (1) `if` 语句

`if` 语句用于判断一个条件，如果条件为 `true`，则执行对应的代码块。
```java
int num = 10;
if (num > 0) {
    System.out.println("数字是正数");
}
```
### (2) `if-else` 语句

`if-else` 语句用于在条件为 `true` 时执行一个代码块，否则执行另一个代码块。
```java
int num = -5;
if (num > 0) {
    System.out.println("数字是正数");
} else {
    System.out.println("数字是非正数");
}
```
### (3) `if-else if-else` 语句

`if-else if-else` 语句用于处理多个条件，依次检查每个条件，直到找到第一个为 `true` 的条件。
```java
int score = 85;
if (score >= 90) {
    System.out.println("成绩等级：A");
} else if (score >= 80) {
    System.out.println("成绩等级：B");
} else if (score >= 70) {
    System.out.println("成绩等级：C");
} else {
    System.out.println("成绩等级：D");
}
```
### (4) `switch` 语句

`switch` 语句用于根据变量的值执行不同的代码块。它适用于多个固定值的条件判断。
```java
int day = 3;
switch (day) {
    case 1:
        System.out.println("星期一");
        break;
    case 2:
        System.out.println("星期二");
        break;
    case 3:
        System.out.println("星期三");
        break;
    default:
        System.out.println("无效的日期");
}
```
## 2. **选择结构的最佳实践**

### (1) **保持条件简单**

- 尽量将复杂的条件拆分为多个简单的条件，或者使用布尔变量来提高可读性。
    
- 例如：
```java
boolean isPositive = num > 0;
boolean isEven = num % 2 == 0;
if (isPositive && isEven) {
    System.out.println("数字是正偶数");
}
```
### (2) **避免深层嵌套**

- 深层嵌套的 `if-else` 语句会降低代码的可读性。可以通过提前返回或使用卫语句（Guard Clauses）来减少嵌套。
    
- 例如：
```java
if (num < 0) {
    System.out.println("数字是负数");
    return; // 提前返回
}
if (num == 0) {
    System.out.println("数字是零");
    return; // 提前返回
}
System.out.println("数字是正数");
```
### (3) **使用 `switch` 替代多重 `if-else`**

- 当需要根据一个变量的多个固定值进行判断时，优先使用 `switch` 语句，而不是多重 `if-else`。
    
- 例如：
```java
switch (day) {
    case 1: System.out.println("星期一"); break;
    case 2: System.out.println("星期二"); break;
    // ...
    default: System.out.println("无效的日期");
}
```

```java
//java12+开始可以写成
String dayType = switch (day) {
    case 1, 2, 3, 4, 5 -> "工作日";
    case 6, 7 -> "周末";
    default -> "无效的日期";
};
System.out.println(dayType);
```
### (4) **避免魔法数字**

- 在条件判断中，避免直接使用魔法数字（Magic Numbers），应该使用常量或枚举来提高代码的可读性。
```java
final int MAX_SCORE = 100;
if (score == MAX_SCORE) {
    System.out.println("满分！");
}
```
### (5) **使用 `Optional` 处理空值**

- 在条件判断中，如果需要处理可能为 `null` 的值，可以使用 `Optional` 来避免空指针异常。
    
- 例如：
```java
Optional<String> name = Optional.ofNullable(getName());
if (name.isPresent()) {
    System.out.println("名字是: " + name.get());
} else {
    System.out.println("名字为空");
}
```
### (6) **优先使用早返回（Early Return）**

- 在方法中，如果某些条件不满足，可以尽早返回，避免不必要的嵌套。
    
- 例如：
```java
public void process(int num) {
    if (num < 0) {
        return; // 早返回
    }
    // 正常逻辑
    System.out.println("处理数字: " + num);
}
```
## 3. **示例代码**
```java
public class SelectionExample {
    public static void main(String[] args) {
        int score = 85;
        String grade = getGrade(score);
        System.out.println("成绩等级: " + grade);

        int day = 3;
        String dayType = getDayType(day);
        System.out.println("日期类型: " + dayType);
    }

    // 使用 if-else if-else 判断成绩等级
    public static String getGrade(int score) {
        if (score >= 90) {
            return "A";
        } else if (score >= 80) {
            return "B";
        } else if (score >= 70) {
            return "C";
        } else {
            return "D";
        }
    }

    // 使用 switch 表达式判断日期类型
    public static String getDayType(int day) {
        return switch (day) {
            case 1, 2, 3, 4, 5 -> "工作日";
            case 6, 7 -> "周末";
            default -> "无效的日期";
        };
    }
}
```